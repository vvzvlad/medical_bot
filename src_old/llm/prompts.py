"""Prompts for LLM command processing."""

# Timezone cities list for timezone_change command
TIMEZONE_CITIES = """
–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥: +02:00
–ú–æ—Å–∫–≤–∞: +03:00
–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥: +03:00
–¢–≤–µ—Ä—å: +03:00
–ë—Ä—è–Ω—Å–∫: +03:00
–í–æ—Ä–æ–Ω–µ–∂: +03:00
–ö—É—Ä—Å–∫: +03:00
–ë–µ–ª–≥–æ—Ä–æ–¥: +03:00
–°–º–æ–ª–µ–Ω—Å–∫: +03:00
–Ø—Ä–æ—Å–ª–∞–≤–ª—å: +03:00
–ö–æ—Å—Ç—Ä–æ–º–∞: +03:00
–í–æ–ª–æ–≥–¥–∞: +03:00
–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫: +03:00
–ú—É—Ä–º–∞–Ω—Å–∫: +03:00
–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥: +03:00
–ö–∏—Ä–æ–≤: +03:00
–í–æ–ª–≥–æ–≥—Ä–∞–¥: +03:00
–°–∞—Ä–∞—Ç–æ–≤: +04:00
–ê—Å—Ç—Ä–∞—Ö–∞–Ω—å: +04:00
–£–ª—å—è–Ω–æ–≤—Å–∫: +04:00
–ï–∫–∞—Ç—Ä–µ–Ω–±—É—Ä–≥: +05:00
–ü–µ—Ä–º—å: +05:00
–û—Ä–µ–Ω–±—É—Ä–≥: +05:00
–¢—é–º–µ–Ω—å: +05:00
–ß–µ–ª—è–±–∏–Ω—Å–∫: +05:00
–û–º—Å–∫: +06:00
–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫: +07:00
–¢–æ–º—Å–∫: +07:00
–ö–µ–º–µ—Ä–æ–≤–æ: +07:00
–ë–∞—Ä–Ω–∞—É–ª: +07:00
–ö—Ä–∞—Å–Ω–æ—è—Å–∫: +07:00
–ò—Ä–∫—É—Ç—Å–∫: +08:00
–£–ª–∞–Ω-–£–¥—ç: +08:00
–ß–∏—Ç–∞: +09:00
–Ø–∫—É—Ç—Å–∫: +09:00
–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫: +10:00
–•–∞–±–∞—Ä–æ–≤—Å–∫: +10:00
–ú–∞–≥–∞–¥–∞–Ω: +11:00
–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫-–ö–∞–º—á–∞—Ç—Å–∫–∏–π: +12:00
–ö–∏–µ–≤ (–£–∫—Ä–∞–∏–Ω–∞): +02:00
–õ—å–≤–æ–≤ (–£–∫—Ä–∞–∏–Ω–∞): +02:00
–•–∞—Ä—å–∫–æ–≤ (–£–∫—Ä–∞–∏–Ω–∞): +02:00
–ö–∏—à–∏–Ω—ë–≤ (–ú–æ–ª–¥–∞–≤–∏—è): +02:00
–ú–∏–Ω—Å–∫ (–ë–µ–ª–∞—Ä—É—Å—å): +03:00
–ë–∞–∫—É (–ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω): +04:00
–ï—Ä–µ–≤–∞–Ω (–ê—Ä–º–µ–Ω–∏—è): +04:00
–¢–±–∏–ª–∏—Å–∏ (–ì—Ä—É–∑–∏—è): +04:00
–¢–∞—à–∫–µ–Ω—Ç (–£–∑–±–µ–∫–∏—Å—Ç–∞–Ω): +05:00
–ë—É—Ö–∞—Ä–∞ (–£–∑–±–µ–∫–∏—Å—Ç–∞–Ω): +05:00
–ê—à—Ö–∞–±–∞–¥ (–¢—É—Ä–∫–º–µ–Ω–∏—Å—Ç–∞–Ω): +05:00
–î—É—à–∞–Ω–±–µ (–¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω): +05:00
–ê–∫—Ç–∞—É (–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω): +05:00
–ê–ª–º–∞—Ç—ã (–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω): +06:00
–ê—Å—Ç–∞–Ω–∞/–ù—É—Ä-–°—É–ª—Ç–∞–Ω (–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω): +06:00
–ë–∏—à–∫–µ–∫ (–ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω): +06:00

–õ–∏—Å—Å–∞–±–æ–Ω (–ü–æ—Ä—Ç—É–≥–∞–ª–∏—è): +00:00
–õ–æ–Ω–¥–æ–Ω (–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è): +00:00
–î—É–±–ª–∏–Ω (–ò—Ä–ª–∞–Ω–¥–∏—è): +00:00
–ú–∞–¥—Ä–∏–¥ (–ò—Å–ø–∞–Ω–∏—è): +01:00
–ë–∞—Ä—Å–µ–ª–æ–Ω–∞ (–ò—Å–ø–∞–Ω–∏—è): +01:00
–ü–∞—Ä–∏–∂ (–§—Ä–∞–Ω—Ü–∏—è): +01:00
–ú–∞—Ä—Å–µ–ª—å (–§—Ä–∞–Ω—Ü–∏—è): +01:00
–õ–∏–æ–Ω (–§—Ä–∞–Ω—Ü–∏—è): +01:00
–ê–º—Å—Ç–µ—Ä–¥–∞–º (–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã): +01:00
–ë—Ä—é—Å—Å–µ–ª—å (–ë–µ–ª—å–≥–∏—è): +01:00
–õ—é–∫—Å–µ–º–±—É—Ä–≥: +01:00
–ë–µ—Ä–ª–∏–Ω (–ì–µ—Ä–º–∞–Ω–∏—è): +01:00
–ú—é–Ω—Ö–µ–Ω (–ì–µ—Ä–º–∞–Ω–∏—è): +01:00
–ö—ë–ª—å–Ω (–ì–µ—Ä–º–∞–Ω–∏—è): +01:00
–¶—é—Ä–∏—Ö (–®–≤–µ–π—Ü–∞—Ä–∏—è): +01:00
–ë–µ—Ä–Ω (–®–≤–µ–π—Ü–∞—Ä–∏—è): +01:00
–í–µ–Ω–∞ (–ê–≤—Å—Ç—Ä–∏—è): +01:00
–ü—Ä–∞–≥–∞ (–ß–µ—à—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞): +01:00
–ë—Ä–∞—Ç–∏—Å–ª–∞–≤–∞ (–°–ª–æ–≤–∞–∫–∏—è): +01:00
–í–∞—Ä—à–∞–≤–∞ (–ü–æ–ª—å—à–∞): +01:00
–ö—Ä–∞–∫–æ–≤ (–ü–æ–ª—å—à–∞): +01:00
–û—Å–ª–æ (–ù–æ—Ä–≤–µ–≥–∏—è): +01:00
–°—Ç–æ–∫–≥–æ–ª—å–º (–®–≤–µ—Ü–∏—è): +01:00
–ö–æ–ø–µ–Ω–≥–∞–≥–µ–Ω (–î–∞–Ω–∏—è): +01:00
–ë—É–¥–∞–ø–µ—à—Ç (–í–µ–Ω–≥—Ä–∏—è): +01:00
–õ—é–±–ª—è–Ω–∞ (–°–ª–æ–≤–µ–Ω–∏—è): +01:00
–ó–∞–≥—Ä–µ–± (–•–æ—Ä–≤–∞—Ç–∏—è): +01:00
–ë–µ–ª–≥—Ä–∞–¥ (–°–µ—Ä–±–∏—è): +01:00
–†–∏–º (–ò—Ç–∞–ª–∏—è): +01:00
–ú–∏–ª–∞–Ω (–ò—Ç–∞–ª–∏—è): +01:00
–í–µ–Ω–µ—Ü–∏—è (–ò—Ç–∞–ª–∏—è): +01:00
–í–∏–ª—å–Ω—é—Å (–õ–∏—Ç–≤–∞): +02:00
–†–∏–≥–∞ (–õ–∞—Ç–≤–∏—è): +02:00
–¢–∞–ª–ª–∏–Ω–Ω (–≠—Å—Ç–æ–Ω–∏—è): +02:00
–°–æ—Ñ–∏—è (–ë–æ–ª–≥–∞—Ä–∏—è): +02:00
–ë—É—Ö–∞—Ä–µ—Å—Ç (–†—É–º—ã–Ω–∏—è): +02:00
–ê—Ñ–∏–Ω—ã (–ì—Ä–µ—Ü–∏—è): +02:00
–ù–∏–∫–æ—Å–∏—è (–ö–∏–ø—Ä): +02:00
–•–µ–ª—å—Å–∏–Ω–∫–∏ (–§–∏–Ω–ª—è–Ω–¥–∏—è): +02:00
"""


def get_command_detection_prompt(user_message: str) -> str:
    """Generate first-stage prompt for command type detection.
    
    Args:
        user_message: User's message text
        
    Returns:
        System prompt for command type detection
    """
    return f"""–¢—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–µ–º–æ–º –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ.
–û–ø—Ä–µ–¥–µ–ª–∏ —Ç–∏–ø –∫–æ–º–∞–Ω–¥—ã –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:
- add: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ (—Ñ—Ä–∞–∑—ã —Ç–∏–ø–∞ "—è –ø—Ä–∏–Ω–∏–º–∞—é X", "–¥–æ–±–∞–≤—å X", "–º–Ω–µ –Ω–∞–¥–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å X")
- delete: —É–¥–∞–ª–µ–Ω–∏–µ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ (—Ñ—Ä–∞–∑—ã —Ç–∏–ø–∞ "—É–¥–∞–ª–∏ X", "–±–æ–ª—å—à–µ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é X", "—É–±–µ—Ä–∏ X")
- time_change: –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏–µ–º–∞ –°–£–©–ï–°–¢–í–£–Æ–©–ï–ì–û –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ (—Ñ—Ä–∞–∑—ã —Ç–∏–ø–∞ "–∏–∑–º–µ–Ω–∏ –≤—Ä–µ–º—è X", "X —Ç–µ–ø–µ—Ä—å –≤ Y", "–ø–µ—Ä–µ–Ω–µ—Å–∏ X –Ω–∞ Y")
- dose_change: –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ–∑–∏—Ä–æ–≤–∫–∏ (—Ñ—Ä–∞–∑—ã —Ç–∏–ø–∞ "–∏–∑–º–µ–Ω–∏ –¥–æ–∑–∏—Ä–æ–≤–∫—É X", "X —Ç–µ–ø–µ—Ä—å N –º–≥")
- timezone_change: –∏–∑–º–µ–Ω–µ–Ω–∏–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ (—Ñ—Ä–∞–∑—ã —Ç–∏–ø–∞ "–º–æ—è —á–∞—Å–æ–≤–∞—è –∑–æ–Ω–∞", "—è –≤ –≥–æ—Ä–æ–¥–µ X")
- list: –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (—Ñ—Ä–∞–∑—ã —Ç–∏–ø–∞ "—á—Ç–æ —è –ø—Ä–∏–Ω–∏–º–∞—é", "–ø–æ–∫–∞–∂–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ", "—Å–ø–∏—Å–æ–∫")
- done: –æ—Ç–º–µ—Ç–∏—Ç—å –ø—Ä–∏–µ–º –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ —Ä–∞–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ (—Ñ—Ä–∞–∑—ã —Ç–∏–ø–∞ "—è –ø—Ä–∏–Ω—è–ª X", "–≤—ã–ø–∏–ª X", "–≤—ã–ø–∏–ª–∞ X", "–≥–æ—Ç–æ–≤–æ")
- help: –∑–∞–ø—Ä–æ—Å –ø–æ–º–æ—â–∏ –∏–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö –±–æ—Ç–∞ (—Ñ—Ä–∞–∑—ã —Ç–∏–ø–∞ "—á—Ç–æ —Ç—ã —É–º–µ–µ—à—å", "–ø–æ–º–æ—â—å", "–∫–∞–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã", "—á—Ç–æ –º–æ–∂–µ—à—å", "—Å–ø—Ä–∞–≤–∫–∞", "–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è")
- unknown: –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞

–í–ê–ñ–ù–û: –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç "—è –ø—Ä–∏–Ω–∏–º–∞—é X –≤ Y" - —ç—Ç–æ –í–°–ï–ì–î–ê –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ (add), –¥–∞–∂–µ –µ—Å–ª–∏ —Ç–∞–∫–æ–π –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç —É–∂–µ –µ—Å—Ç—å –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏.
–ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ (time_change) - —ç—Ç–æ –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è–≤–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç "–∏–∑–º–µ–Ω–∏", "—Ç–µ–ø–µ—Ä—å", "–ø–µ—Ä–µ–Ω–µ—Å–∏".

–í–ê–ñ–ù–û: –°–ª–æ–≤–∞ "–≤—ã–ø–∏–ª", "–≤—ã–ø–∏–ª–∞", "–≤—ã–ø–∏–ª–æ", "–≤—ã–ø–∏–ª–∏" –í–°–ï–ì–î–ê –æ–∑–Ω–∞—á–∞—é—Ç –æ—Ç–º–µ—Ç–∫—É –ø—Ä–∏–µ–º–∞ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ (done), –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞ –∏ —Ä–æ–¥–∞.

–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user_message}

–í–µ—Ä–Ω–∏ –æ—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON: {{"command_type": "—Ç–∏–ø_–∫–æ–º–∞–Ω–¥—ã"}}"""


def get_add_command_prompt(user_message: str) -> str:
    """Generate prompt for parsing add command.
    
    Args:
        user_message: User's message text
        
    Returns:
        System prompt for add command parsing
    """
    return f"""–¢—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø—Ä–∏–µ–º–∞ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ.

–û–Ω –Ω–∞–ø–∏—Å–∞–ª —Å–æ–æ–±—â–µ–Ω–∏–µ: {user_message}

–û–ø—Ä–µ–¥–µ–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞, –≤—Ä–µ–º—è –ø—Ä–∏–µ–º–∞ –∏ –¥–æ–∑–∏—Ä–æ–≤–∫—É.
–ï—Å–ª–∏ –¥–æ–∑–∏—Ä–æ–≤–∫–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞, —Ç–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞–π –µ–µ –≤ –æ—Ç–≤–µ—Ç–µ.
–í—Ä–µ–º—è –ø—Ä–∏–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–≤ 10:00 –∏ 18:00").

–í–ê–ñ–ù–û: –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–ø–æ–º–∏–Ω–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–Ω—ã—Ö –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–∞—Å–ø–∏—Ä–∏–Ω –∏ –ª–æ–ø–µ—Ä–∞–º–∏–¥"), –≤–µ—Ä–Ω–∏ –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤.
–ï—Å–ª–∏ –æ–¥–∏–Ω –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç - –≤–µ—Ä–Ω–∏ –º–∞—Å—Å–∏–≤ —Å –æ–¥–Ω–∏–º –æ–±—ä–µ–∫—Ç–æ–º.

–í–ê–ñ–ù–û –û –ì–†–ê–ú–ú–ê–¢–ò–ö–ï:
- –ü–æ–ª–µ "medication_name" –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ –≤ –ù–ò–ñ–ù–ï–ú –†–ï–ì–ò–°–¢–†–ï
- –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è "–î–æ–±–∞–≤–ª–µ–Ω–æ: –≥–µ—Ä–æ–∏–Ω –≤ 12:00"
- –ü—Ä–∏–º–µ—Ä—ã: "–∞—Å–ø–∏—Ä–∏–Ω" (–Ω–µ "–ê—Å–ø–∏—Ä–∏–Ω"), "–≥–∞–±–∞–ø–µ–Ω—Ç–∏–Ω" (–Ω–µ "–ì–∞–±–∞–ø–µ–Ω—Ç–∏–Ω"), "–ª–∞–º–æ—Ç—Ä–∏–¥–∂–∏–Ω" (–Ω–µ "–õ–∞–º–æ—Ç—Ä–∏–¥–∂–∏–Ω")

–ü—Ä–∏–º–µ—Ä—ã:
- "–º–Ω–µ –Ω–∞–¥–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∞—Å–ø–∏—Ä–∏–Ω –≤ 19:00" -> [{{"medication_name": "–∞—Å–ø–∏—Ä–∏–Ω", "times": ["19:00"]}}]
- "—è –ø—Ä–∏–Ω–∏–º–∞—é –ø–∞—Ä–∞—Ü–µ—Ç–∞–º–æ–ª 200 –º–≥ –≤ 10:00 –∏ 18:00" -> [{{"medication_name": "–ø–∞—Ä–∞—Ü–µ—Ç–∞–º–æ–ª", "times": ["10:00", "18:00"], "dosage": "200 –º–≥"}}]
- "–¥–æ–±–∞–≤—å –≤–∏—Ç–∞–º–∏–Ω D –ø–æ 2 –∫–∞–ø—Å—É–ª—ã –≤ 9 —É—Ç—Ä–∞" -> [{{"medication_name": "–≤–∏—Ç–∞–º–∏–Ω D", "times": ["09:00"], "dosage": "2 –∫–∞–ø—Å—É–ª—ã"}}]
- "–º–Ω–µ –Ω–∞–¥–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∞—Å–ø–∏—Ä–∏–Ω –∏ –ª–æ–ø–µ—Ä–∞–º–∏–¥ –≤ 12" -> [{{"medication_name": "–∞—Å–ø–∏—Ä–∏–Ω", "times": ["12:00"]}}, {{"medication_name": "–ª–æ–ø–µ—Ä–∞–º–∏–¥", "times": ["12:00"]}}]

–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON - –≤—Å–µ–≥–¥–∞ –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤."""


def get_delete_command_prompt(user_message: str, schedule: list) -> str:
    """Generate prompt for parsing delete command.
    
    Args:
        user_message: User's message text
        schedule: Current medication schedule with IDs
        
    Returns:
        System prompt for delete command parsing
    """
    schedule_text = "\n".join([
        f"ID {med['id']}: {med['name']} {med.get('dosage', '')} –≤ {med['time']}"
        for med in schedule
    ])
    
    # Extract valid IDs from schedule
    valid_ids = [med['id'] for med in schedule]
    valid_ids_str = ", ".join(map(str, valid_ids))
    
    return f"""–¢—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø—Ä–∏–µ–º–∞ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç —É–¥–∞–ª–∏—Ç—å –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.

–¢–µ–∫—É—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
{schedule_text}

–í–ê–ñ–ù–û: –¢—ã –î–û–õ–ñ–ï–ù –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ ID –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ. –ù–ï –ø—Ä–∏–¥—É–º—ã–≤–∞–π –Ω–æ–≤—ã–µ ID.
–î–æ—Å—Ç—É–ø–Ω—ã–µ ID –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏: [{valid_ids_str}]

–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user_message}

–û–ø—Ä–µ–¥–µ–ª–∏:
1. –ù–∞–∑–≤–∞–Ω–∏–µ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç —É–¥–∞–ª–∏—Ç—å
2. ID –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞(–æ–≤) –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

–í–ê–ñ–ù–û –û –ì–†–ê–ú–ú–ê–¢–ò–ö–ï:
- –ü–æ–ª–µ "medication_name" –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ –≤ –ò–ú–ï–ù–ò–¢–ï–õ–¨–ù–û–ú –ü–ê–î–ï–ñ–ï (nominative case)
- –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è "–ì–µ—Ä–æ–∏–Ω —É–¥–∞–ª–µ–Ω –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è", "–ì–∞–±–∞–ø–µ–Ω—Ç–∏–Ω —É–¥–∞–ª–µ–Ω –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è"
- –ü—Ä–∏–º–µ—Ä—ã: "–ì–µ—Ä–æ–∏–Ω" (–Ω–µ "–≥–µ—Ä–æ–∏–Ω–∞"), "–ì–∞–±–∞–ø–µ–Ω—Ç–∏–Ω" (–Ω–µ "–≥–∞–±–∞–ø–µ–Ω—Ç–∏–Ω–∞"), "–õ–∞–º–æ—Ç—Ä–∏–¥–∂–∏–Ω" (–Ω–µ "–ª–∞–º–æ—Ç—Ä–∏–¥–∂–∏–Ω–∞")
- –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å –ó–ê–ì–õ–ê–í–ù–û–ô –ë–£–ö–í–´ (–ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ—á–Ω—ã–µ)

–û–ø—Ä–µ–¥–µ–ª–∏, –∫–∞–∫–æ–π –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç —É–¥–∞–ª–∏—Ç—å:
- –ï—Å–ª–∏ –ø–æ–¥ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ø–∞–¥–∞–µ—Ç –æ–¥–∏–Ω –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç, –≤–µ—Ä–Ω–∏ –µ–≥–æ ID –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç "—è –±–æ–ª—å—à–µ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é –∞—Å–ø–∏—Ä–∏–Ω" –∏ —É –Ω–µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞—Å–ø–∏—Ä–∏–Ω–æ–≤, –≤–µ—Ä–Ω–∏ –≤—Å–µ –∏—Ö ID –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ
- –ï—Å–ª–∏ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç —É–¥–∞–ª—è—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞—Å–ø–∏—Ä–∏–Ω–æ–≤ —Å —Ä–∞–∑–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º), –ø–æ–ø—Ä–æ—Å–∏ —É—Ç–æ—á–Ω–∏—Ç—å
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç —É–¥–∞–ª–∏—Ç—å –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ, –≤–µ—Ä–Ω–∏: {{"status": "not_found", "medication_name": "–ù–∞–∑–≤–∞–Ω–∏–µ", "medication_ids": []}}

–ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤:
- –£—Å–ø–µ—à–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ: {{"status": "success", "medication_name": "–ê—Å–ø–∏—Ä–∏–Ω", "medication_ids": [1]}}
- –£—Å–ø–µ—à–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å –æ–¥–Ω–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º: {{"status": "success", "medication_name": "–ì–∞–±–∞–ø–µ–Ω—Ç–∏–Ω", "medication_ids": [4, 5, 6, 7]}}
- –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Ç–æ—á–Ω–µ–Ω–∏–µ: {{"status": "clarification_needed", "medication_name": "–ê—Å–ø–∏—Ä–∏–Ω", "message": "–í—ã –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ –∞—Å–ø–∏—Ä–∏–Ω –≤ 19:00 –∏ –∞—Å–ø–∏—Ä–∏–Ω –≤ 21:00, —É—Ç–æ—á–Ω–∏—Ç–µ, –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å"}}
- –ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω: {{"status": "not_found", "medication_name": "–ò–±—É–ø—Ä–æ—Ñ–µ–Ω", "medication_ids": []}}

–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON."""


def get_time_change_command_prompt(user_message: str, schedule: list) -> str:
    """Generate prompt for parsing time change command.
    
    Args:
        user_message: User's message text
        schedule: Current medication schedule with IDs
        
    Returns:
        System prompt for time change command parsing
    """
    schedule_text = "\n".join([
        f"ID {med['id']}: {med['name']} {med.get('dosage', '')} –≤ {med['time']}"
        for med in schedule
    ])
    
    return f"""–¢—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø—Ä–∏–µ–º–∞ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è –ø—Ä–∏–µ–º–∞ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞.

–¢–µ–∫—É—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
{schedule_text}

–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user_message}

–û–ø—Ä–µ–¥–µ–ª–∏, –¥–ª—è –∫–∞–∫–æ–≥–æ –∏–º–µ–Ω–Ω–æ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ –æ–Ω —Ö–æ—á–µ—Ç –ø–æ–º–µ–Ω—è—Ç—å –≤—Ä–µ–º—è –ø—Ä–∏–µ–º–∞:
- –ï—Å–ª–∏ –ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫–æ–π –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–∏–Ω –∞—Å–ø–∏—Ä–∏–Ω –≤ 19:00), –≤–µ—Ä–Ω–∏ –µ–≥–æ ID, –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ –∏ –Ω–æ–≤–æ–µ –≤—Ä–µ–º—è
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç "—è –ø—Ä–∏–Ω–∏–º–∞—é –∞—Å–ø–∏—Ä–∏–Ω –≤ 19", –∞ —É –Ω–µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞—Å–ø–∏—Ä–∏–Ω–æ–≤, –ø–æ–ø—Ä–æ—Å–∏ —É—Ç–æ—á–Ω–∏—Ç—å
- –ù–æ–≤–æ–µ –≤—Ä–µ–º—è –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—Ç–µ–ø–µ—Ä—å –≤ 10:00 –∏ 18:00")

–í–ê–ñ–ù–û –û –ì–†–ê–ú–ú–ê–¢–ò–ö–ï:
- –ü–æ–ª–µ "medication_name" –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ –≤ –†–û–î–ò–¢–ï–õ–¨–ù–û–ú –ü–ê–î–ï–ñ–ï (genitive case) –∏ –≤ –ù–ò–ñ–ù–ï–ú –†–ï–ì–ò–°–¢–†–ï
- –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è "–í—Ä–µ–º—è –ø—Ä–∏–µ–º–∞ –∞—Å–ø–∏—Ä–∏–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–æ", "–í—Ä–µ–º—è –ø—Ä–∏–µ–º–∞ –ª–∞–º–æ—Ç—Ä–∏–¥–∂–∏–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–æ"
- –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π: "–∞—Å–ø–∏—Ä–∏–Ω–∞" (–Ω–µ "–∞—Å–ø–∏—Ä–∏–Ω" –∏ –Ω–µ "–ê—Å–ø–∏—Ä–∏–Ω–∞"), "–≥–∞–±–∞–ø–µ–Ω—Ç–∏–Ω–∞" (–Ω–µ "–≥–∞–±–∞–ø–µ–Ω—Ç–∏–Ω"), "–ª–∞–º–æ—Ç—Ä–∏–¥–∂–∏–Ω–∞" (–Ω–µ "–ª–∞–º–æ—Ç—Ä–∏–¥–∂–∏–Ω")
- –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂: –∞—Å–ø–∏—Ä–∏–Ω ‚Üí –∞—Å–ø–∏—Ä–∏–Ω–∞, –≥–∞–±–∞–ø–µ–Ω—Ç–∏–Ω ‚Üí –≥–∞–±–∞–ø–µ–Ω—Ç–∏–Ω–∞, –ª–∞–º–æ—Ç—Ä–∏–¥–∂–∏–Ω ‚Üí –ª–∞–º–æ—Ç—Ä–∏–¥–∂–∏–Ω–∞, –ø–∞—Ä–∞—Ü–µ—Ç–∞–º–æ–ª ‚Üí –ø–∞—Ä–∞—Ü–µ—Ç–∞–º–æ–ª–∞

–ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤:
- –£—Å–ø–µ—à–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ: {{"status": "success", "medication_name": "–∞—Å–ø–∏—Ä–∏–Ω–∞", "medication_id": 1, "new_times": ["19:00", "21:00"]}}
- –£—Å–ø–µ—à–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ (–¥—Ä—É–≥–æ–π –ø—Ä–∏–º–µ—Ä): {{"status": "success", "medication_name": "–≥–∞–±–∞–ø–µ–Ω—Ç–∏–Ω–∞", "medication_id": 2, "new_times": ["10:00"]}}
- –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Ç–æ—á–Ω–µ–Ω–∏–µ: {{"status": "clarification_needed", "message": "–í—ã –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ –∞—Å–ø–∏—Ä–∏–Ω –≤ 19:00 –∏ –∞—Å–ø–∏—Ä–∏–Ω –≤ 21:00, —É—Ç–æ—á–Ω–∏—Ç–µ, –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å"}}

–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON."""


def get_dose_change_command_prompt(user_message: str, schedule: list) -> str:
    """Generate prompt for parsing dose change command.
    
    Args:
        user_message: User's message text
        schedule: Current medication schedule with IDs
        
    Returns:
        System prompt for dose change command parsing
    """
    schedule_text = "\n".join([
        f"ID {med['id']}: {med['name']} {med.get('dosage', '')} –≤ {med['time']}"
        for med in schedule
    ])
    
    return f"""–¢—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø—Ä–∏–µ–º–∞ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –¥–æ–∑–∏—Ä–æ–≤–∫—É –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞.

–¢–µ–∫—É—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
{schedule_text}

–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user_message}

–û–ø—Ä–µ–¥–µ–ª–∏, –¥–ª—è –∫–∞–∫–æ–≥–æ –∏–º–µ–Ω–Ω–æ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ –æ–Ω —Ö–æ—á–µ—Ç –ø–æ–º–µ–Ω—è—Ç—å –¥–æ–∑–∏—Ä–æ–≤–∫—É:
- –ï—Å–ª–∏ –ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫–æ–π –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–∏–Ω –∞—Å–ø–∏—Ä–∏–Ω), –≤–µ—Ä–Ω–∏ –µ–≥–æ ID, –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ –∏ –Ω–æ–≤—É—é –¥–æ–∑–∏—Ä–æ–≤–∫—É
- –ï—Å–ª–∏ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞—Å–ø–∏—Ä–∏–Ω–æ–≤ —Å —Ä–∞–∑–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º), –ø–æ–ø—Ä–æ—Å–∏ —É—Ç–æ—á–Ω–∏—Ç—å

–í–ê–ñ–ù–û –û –ì–†–ê–ú–ú–ê–¢–ò–ö–ï:
- –ü–æ–ª–µ "medication_name" –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ –≤ –†–û–î–ò–¢–ï–õ–¨–ù–û–ú –ü–ê–î–ï–ñ–ï (genitive case) –∏ –≤ –ù–ò–ñ–ù–ï–ú –†–ï–ì–ò–°–¢–†–ï
- –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è "–î–æ–∑–∏—Ä–æ–≤–∫–∞ –∞—Å–ø–∏—Ä–∏–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∞", "–î–æ–∑–∏—Ä–æ–≤–∫–∞ –≥–∞–±–∞–ø–µ–Ω—Ç–∏–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∞"
- –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π: "–∞—Å–ø–∏—Ä–∏–Ω–∞" (–Ω–µ "–∞—Å–ø–∏—Ä–∏–Ω" –∏ –Ω–µ "–ê—Å–ø–∏—Ä–∏–Ω–∞"), "–≥–∞–±–∞–ø–µ–Ω—Ç–∏–Ω–∞" (–Ω–µ "–≥–∞–±–∞–ø–µ–Ω—Ç–∏–Ω"), "–ª–∞–º–æ—Ç—Ä–∏–¥–∂–∏–Ω–∞" (–Ω–µ "–ª–∞–º–æ—Ç—Ä–∏–¥–∂–∏–Ω")
- –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂: –∞—Å–ø–∏—Ä–∏–Ω ‚Üí –∞—Å–ø–∏—Ä–∏–Ω–∞, –≥–∞–±–∞–ø–µ–Ω—Ç–∏–Ω ‚Üí –≥–∞–±–∞–ø–µ–Ω—Ç–∏–Ω–∞, –ª–∞–º–æ—Ç—Ä–∏–¥–∂–∏–Ω ‚Üí –ª–∞–º–æ—Ç—Ä–∏–¥–∂–∏–Ω–∞, –ø–∞—Ä–∞—Ü–µ—Ç–∞–º–æ–ª ‚Üí –ø–∞—Ä–∞—Ü–µ—Ç–∞–º–æ–ª–∞

–ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤:
- –£—Å–ø–µ—à–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ: {{"status": "success", "medication_name": "–∞—Å–ø–∏—Ä–∏–Ω–∞", "medication_id": 1, "new_dosage": "300 –º–≥"}}
- –£—Å–ø–µ—à–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ (–¥—Ä—É–≥–æ–π –ø—Ä–∏–º–µ—Ä): {{"status": "success", "medication_name": "–≥–∞–±–∞–ø–µ–Ω—Ç–∏–Ω–∞", "medication_id": 2, "new_dosage": "400 –º–≥"}}
- –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Ç–æ—á–Ω–µ–Ω–∏–µ: {{"status": "clarification_needed", "message": "–í—ã –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ –∞—Å–ø–∏—Ä–∏–Ω –≤ 19:00 –∏ –∞—Å–ø–∏—Ä–∏–Ω –≤ 21:00, —É—Ç–æ—á–Ω–∏—Ç–µ, –¥–ª—è –∫–∞–∫–æ–≥–æ –∏–º–µ–Ω–Ω–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –¥–æ–∑–∏—Ä–æ–≤–∫—É"}}

–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON."""


def get_timezone_change_command_prompt(user_message: str) -> str:
    """Generate prompt for parsing timezone change command.
    
    Args:
        user_message: User's message text
        
    Returns:
        System prompt for timezone change command parsing
    """
    return f"""–¢—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø—Ä–∏–µ–º–∞ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å.

–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –∏ –∏—Ö —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤:
{TIMEZONE_CITIES}

–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user_message}

–û–ø—Ä–µ–¥–µ–ª–∏ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å:
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑–∞–ª –≥–æ—Ä–æ–¥ –∏–∑ —Å–ø–∏—Å–∫–∞, –≤–µ—Ä–Ω–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–º–µ—â–µ–Ω–∏–µ
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑–∞–ª —Å–º–µ—â–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, "+3" –∏–ª–∏ "-5"), –ø—Ä–µ–æ–±—Ä–∞–∑—É–π –≤ —Ñ–æ—Ä–º–∞—Ç "+03:00" –∏–ª–∏ "-05:00"
- –ï—Å–ª–∏ –≥–æ—Ä–æ–¥–∞ –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ, –ø–æ–ø—Ä–æ—Å–∏ —É–∫–∞–∑–∞—Ç—å —Å–º–µ—â–µ–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ UTC

–ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤:
- –£—Å–ø–µ—à–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: {{"status": "success", "timezone_offset": "+03:00"}}
- –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Ç–æ—á–Ω–µ–Ω–∏–µ: {{"status": "clarification_needed", "message": "–Ø –Ω–µ –∑–Ω–∞—é —Ç–∞–∫–æ–≥–æ –≥–æ—Ä–æ–¥–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –≤ –≤–∏–¥–µ —Å–º–µ—â–µ–Ω–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ UTC, –Ω–∞–ø—Ä–∏–º–µ—Ä +3 –∏–ª–∏ -5"}}

–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON."""


def get_done_command_prompt(user_message: str, schedule: list) -> str:
    """Generate prompt for parsing done command.
    
    Args:
        user_message: User's message text
        schedule: Current medication schedule with IDs
        
    Returns:
        System prompt for done command parsing
    """
    schedule_text = "\n".join([
        f"ID {med['id']}: {med['name']} {med.get('dosage', '')} –≤ {med['time']}"
        for med in schedule
    ])
    
    # Extract valid IDs from schedule
    valid_ids = [med['id'] for med in schedule]
    valid_ids_str = ", ".join(map(str, valid_ids))
    
    return f"""–¢—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø—Ä–∏–µ–º–∞ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –ø—Ä–∏–Ω—è–ª –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç.

–¢–µ–∫—É—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
{schedule_text}

–í–ê–ñ–ù–û: –¢—ã –î–û–õ–ñ–ï–ù –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ ID –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ. –ù–ï –ø—Ä–∏–¥—É–º—ã–≤–∞–π –Ω–æ–≤—ã–µ ID.
–î–æ—Å—Ç—É–ø–Ω—ã–µ ID –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏: [{valid_ids_str}]

–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user_message}

–û–ø—Ä–µ–¥–µ–ª–∏:
1. –ù–∞–∑–≤–∞–Ω–∏–µ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω—è–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
2. –í—Ä–µ–º—è –ø—Ä–∏–µ–º–∞, –µ—Å–ª–∏ –æ–Ω–æ —É–∫–∞–∑–∞–Ω–æ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ (–≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:MM)
3. ID –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—é

–í–ê–ñ–ù–û:
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑–∞–ª –≤—Ä–µ–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ø—Ä–∏–Ω—è–ª –∞—Å–ø–∏—Ä–∏–Ω –≤ 22:00"), –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–µ—Ä–Ω–∏ —ç—Ç–æ –≤—Ä–µ–º—è –≤ –ø–æ–ª–µ "time"
- –ï—Å–ª–∏ –≤—Ä–µ–º—è –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –ø–æ–ª–µ "time" –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å null
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç "—è –ø—Ä–∏–Ω—è–ª –ø–∞—Ä–∞—Ü–µ—Ç–∞–º–æ–ª" –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏, –∞ –æ–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤ –¥–µ–Ω—å, –≤–µ—Ä–Ω–∏ –≤—Å–µ ID –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö
- –ï—Å–ª–∏ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç –æ–¥–∏–Ω, –≤–µ—Ä–Ω–∏ –æ–¥–∏–Ω ID
- –ù–ï –ü–†–ò–î–£–ú–´–í–ê–ô ID - –∏—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ —Ç–µ, —á—Ç–æ –µ—Å—Ç—å –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏ –≤—ã—à–µ

–ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤:
- –° —É–∫–∞–∑–∞–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏: {{"medication_name": "–ê—Å–ø–∏—Ä–∏–Ω", "time": "22:00", "medication_ids": [1, 3]}}
- –ë–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏: {{"medication_name": "–ü–∞—Ä–∞—Ü–µ—Ç–∞–º–æ–ª", "time": null, "medication_ids": [1, 3]}}
- –ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω: {{"medication_name": "–ò–±—É–ø—Ä–æ—Ñ–µ–Ω", "time": null, "medication_ids": []}}

–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON."""


def get_unknown_command_prompt(user_message: str) -> str:
    """Generate prompt for unknown command response.
    
    Args:
        user_message: User's message text
        
    Returns:
        System prompt for generating error message
    """
    return f"""–¢—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø—Ä–∏–µ–º–∞ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞–º–∏.

–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user_message}

–ù–∞–ø–∏—à–∏ –≤–µ–∂–ª–∏–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞, –∏ –ø—Ä–µ–¥–ª–æ–∂–∏ –ø–æ–º–æ—â—å.
–ú–æ–∂–µ—à—å –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –Ω–∞–ø–∏—Å–∞—Ç—å "—á—Ç–æ —è –ø—Ä–∏–Ω–∏–º–∞—é" —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
{{"message": "–ò–∑–≤–∏–Ω–∏—Ç–µ, —è –Ω–µ –ø–æ–Ω—è–ª –≤–∞—à—É –∫–æ–º–∞–Ω–¥—É. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ '—á—Ç–æ —è –ø—Ä–∏–Ω–∏–º–∞—é' —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –≤–∞—à–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ"}}

–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON."""


def get_help_command_prompt() -> str:
    """Generate prompt for help command response.
    
    Returns:
        System prompt for generating help message
    """
    return """–¢—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø—Ä–∏–µ–º–∞ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–æ—Å–∏–ª –ø–æ–º–æ—â—å –∏–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö –±–æ—Ç–∞.

–ù–∞–ø–∏—à–∏ –¥—Ä—É–∂–µ–ª—é–±–Ω–æ–µ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ–±—ä—è—Å–Ω—è–µ—Ç:

1. –û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±–æ—Ç–∞: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–∏–µ–º–∞ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–æ–≤
2. –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–æ–≤ —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—è –ø—Ä–∏–Ω–∏–º–∞—é –∞—Å–ø–∏—Ä–∏–Ω –≤ 10:00")
   - –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—á—Ç–æ —è –ø—Ä–∏–Ω–∏–º–∞—é", "–ø–æ–∫–∞–∂–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ")
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏–µ–º–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–∏–∑–º–µ–Ω–∏ –≤—Ä–µ–º—è –∞—Å–ø–∏—Ä–∏–Ω–∞ –Ω–∞ 12:00")
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ–∑–∏—Ä–æ–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–∏–∑–º–µ–Ω–∏ –¥–æ–∑–∏—Ä–æ–≤–∫—É –∞—Å–ø–∏—Ä–∏–Ω–∞ –Ω–∞ 200 –º–≥")
   - –£–¥–∞–ª–µ–Ω–∏–µ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—É–¥–∞–ª–∏ –∞—Å–ø–∏—Ä–∏–Ω", "–±–æ–ª—å—à–µ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é –ø–∞—Ä–∞—Ü–µ—Ç–∞–º–æ–ª")
   - –û—Ç–º–µ—Ç–∫–∞ –æ —Ä–∞–Ω–Ω–µ–º –ø—Ä–∏–µ–º–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—è –ø—Ä–∏–Ω—è–ª –∞—Å–ø–∏—Ä–∏–Ω")
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–º–æ—è —á–∞—Å–æ–≤–∞—è –∑–æ–Ω–∞ –ú–æ—Å–∫–≤–∞")
3. –ü–æ–æ—â—Ä—è–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ–±—â–∞—Ç—å—Å—è –∫–∞–∫ —Å —á–µ–ª–æ–≤–µ–∫–æ–º

–°–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–µ–ø–ª—ã–º, –ø–æ–Ω—è—Ç–Ω—ã–º –∏ –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–º. –ü–æ–¥—á–µ—Ä–∫–Ω–∏, —á—Ç–æ –±–æ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–µ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
{{"message": "–ü—Ä–∏–≤–µ—Ç! –Ø –ø–æ–º–æ–≥—É –≤–∞–º —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–∏–µ–º–∞ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–æ–≤.

–í–æ—Ç —á—Ç–æ —è —É–º–µ—é:
üìã –î–æ–±–∞–≤–ª—è—Ç—å –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç—ã - –ø—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏—Ç–µ '—è –ø—Ä–∏–Ω–∏–º–∞—é –∞—Å–ø–∏—Ä–∏–Ω –≤ 10:00'
üìÖ –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ - —Å–ø—Ä–æ—Å–∏—Ç–µ '—á—Ç–æ —è –ø—Ä–∏–Ω–∏–º–∞—é' –∏–ª–∏ '–ø–æ–∫–∞–∂–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ'
‚è∞ –ú–µ–Ω—è—Ç—å –≤—Ä–µ–º—è –ø—Ä–∏–µ–º–∞ - –Ω–∞–ø—Ä–∏–º–µ—Ä, '–∏–∑–º–µ–Ω–∏ –≤—Ä–µ–º—è –∞—Å–ø–∏—Ä–∏–Ω–∞ –Ω–∞ 12:00'
üíä –ú–µ–Ω—è—Ç—å –¥–æ–∑–∏—Ä–æ–≤–∫—É - –Ω–∞–ø—Ä–∏–º–µ—Ä, '–∏–∑–º–µ–Ω–∏ –¥–æ–∑–∏—Ä–æ–≤–∫—É –∞—Å–ø–∏—Ä–∏–Ω–∞ –Ω–∞ 200 –º–≥'
üóë –£–¥–∞–ª—è—Ç—å –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç—ã - —Å–∫–∞–∂–∏—Ç–µ '—É–¥–∞–ª–∏ –∞—Å–ø–∏—Ä–∏–Ω' –∏–ª–∏ '–±–æ–ª—å—à–µ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é –ø–∞—Ä–∞—Ü–µ—Ç–∞–º–æ–ª'
‚úÖ –û—Ç–º–µ—á–∞—Ç—å –ø—Ä–∏–µ–º - –Ω–∞–ø–∏—à–∏—Ç–µ '—è –ø—Ä–∏–Ω—è–ª –∞—Å–ø–∏—Ä–∏–Ω'
üåç –ú–µ–Ω—è—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å - —É–∫–∞–∂–∏—Ç–µ '–º–æ—è —á–∞—Å–æ–≤–∞—è –∑–æ–Ω–∞ –ú–æ—Å–∫–≤–∞'

–û–±—â–∞–π—Ç–µ—Å—å —Å–æ –º–Ω–æ–π –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, –∫–∞–∫ —Å —á–µ–ª–æ–≤–µ–∫–æ–º - —è –ø–æ–Ω–∏–º–∞—é —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ –∏ –Ω–µ —Ç—Ä–µ–±—É—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥!"}}

–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON."""


def get_confirmation_message_prompt(medication_name: str, medication_time: str = None, dosage: str = None) -> str:
    """Generate prompt for personalized medication confirmation message.
    
    Args:
        medication_name: Name of the medication that was marked as taken
        medication_time: Time when the medication was taken (optional)
        dosage: Dosage of the medication (optional)
        
    Returns:
        System prompt for generating confirmation message
    """
    time_context = f" –≤ {medication_time}" if medication_time else ""
    dosage_context = f" ({dosage})" if dosage else ""
    
    return f"""–¢—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø—Ä–∏–µ–º–∞ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–º–µ—Ç–∏–ª, —á—Ç–æ –ø—Ä–∏–Ω—è–ª –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç.

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–µ:
- –ù–∞–∑–≤–∞–Ω–∏–µ: {medication_name}{dosage_context}{time_context}

–ù–∞–ø–∏—à–∏ –∫—Ä–∞—Å–∏–≤–æ–µ, –¥—Ä—É–∂–µ–ª—é–±–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ-–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ, –∫–æ—Ç–æ—Ä–æ–µ:
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏–µ–º –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞ –∑–∞–ø–∏—Å–∞–Ω
- –£–ø–æ–º–∏–Ω–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞
- –í–∫–ª—é—á–∞–µ—Ç –≤—Ä–µ–º—è –ø—Ä–∏–µ–º–∞, –µ—Å–ª–∏ –æ–Ω–æ —É–∫–∞–∑–∞–Ω–æ
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏ –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π, —Ç–µ–ø–ª—ã–π —Ç–æ–Ω

–í–ê–ñ–ù–û: –°–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–º (–Ω–µ –±–æ–ª–µ–µ 1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π) –∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º.

–ü—Ä–∏–º–µ—Ä—ã:
- "–û—Ç–º–µ—á–µ–Ω–æ: {medication_name}{dosage_context} –ø—Ä–∏–Ω—è—Ç{time_context} ‚úì –•–æ—Ä–æ—à–æ –∑–∞–±–æ—Ç–∏—Ç–µ—Å—å –æ —Å–µ–±–µ!"
- "{medication_name.capitalize()}{dosage_context} ‚Äî –ø—Ä–∏–Ω—è—Ç{time_context} ‚úì –°–ø–∞—Å–∏–±–æ, —á—Ç–æ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ —Å–≤–æ–∏–º –∑–¥–æ—Ä–æ–≤—å–µ–º!"
- "–ó–∞–ø–∏—Å–∞–ª–∞: {medication_name.lower()}{dosage_context} –≤ {medication_time} ‚úì"

–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:
{{"message": "—Ç–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"}}"""
